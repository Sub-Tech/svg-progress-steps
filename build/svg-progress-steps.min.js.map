{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js","webpack:///./src/ProgressSteps.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","_ProgressSteps","window","stepsProgress","ProgressSteps","removePoly","Element","remove","this","parentNode","removeChild","nameSpace","libName","stepsInit","target","steps","currentStep","svgNode","setAttrs","node","props","length","setAttribute","renderSvg","document","createElementNS","circleRadius","strokeWidth","appendChild","renderSvgCircles","_this","map","diameter","cx","circleNodeFgBg","toString","backgroundColor","getMedian","values","half","Math","floor","renderTextNodes","_this2","yBase","fontSize","textNode","textFill","constructor","Array","numberedArr","median","offset","offsetY","tspan","spanContent","createTextNode","text","pathAnimate","_this3","pathLines","querySelectorAll","_loop","getTotalLength","style","transition","animationSpeed","semiCircleLength","PI","lineCompletedLength","fractionComplete","currentStepCompleted","setTimeout","strokeDasharray","animate","callback","_this4","stepSpeed","completeStepNode","completeFill","transitionDelay","fill","completeStepTextNode","completeTextFill","activeTextFill","path","_this5","pl","pu","pbgl","pbgu","paths","pathULSwitch","width","pathMap","x","colorFg","colorBg","setNumber","val","def","isNaN","setString","setConfig","conf","textSizeRatio","textYPosition","textXoffset","updateProgress","fn","updateStepsText","console","error","allTextNodes","init","getCircleLengthPoly","progress"],"mappings":"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","file":"svg-progress-steps.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import ProgressSteps from './ProgressSteps'\n\nwindow.stepsProgress = ProgressSteps\n\n\n","const removePoly = () => {\n  if (!('remove' in Element.prototype)) {\n    Element.prototype.remove = function() {\n      if (this.parentNode) {\n        this.parentNode.removeChild(this);\n      }\n    }\n  }\n}\nconst nameSpace = `http://www.w3.org/2000/svg`\nconst libName = 'svg-progress-steps'\n\nconst stepsInit = {\n  target: null,\n  steps: [],\n  currentStep: 0,\n  svgNode: null,\n  setAttrs (node, props) {\n    for (let i = 0; i < props.length; i++) {\n      node.setAttribute(props[i][0], props[i][1])\n    }\n  },\n  renderSvg () {\n    this.svgNode = document.createElementNS(nameSpace, \"svg\")\n    this.setAttrs(this.svgNode, [\n      ['viewBox', `0 0 ${this.circleRadius * 2 * this.steps.length * 2} ${((this.circleRadius * 2) + this.strokeWidth)}`],\n      ['version', 'http://www.w3.org/1999/xlink'],\n      ['xmlns:xlink', 'http://www.w3.org/1999/xlink'],\n      ['height', `${this.circleRadius}`],\n      ['width', '100%']\n    ])\n    this.target.appendChild(this.svgNode)\n  },\n  renderSvgCircles () {\n\n    this.steps.map((d, i) => {\n      const diameter = this.circleRadius*2\n      const cx = (diameter*2) * (i+0.5)\n      const circleNodeFgBg = document.createElementNS(nameSpace, 'circle')\n      this.setAttrs(circleNodeFgBg, [\n        ['cx', cx],\n        ['cy', '50%'],\n        ['r', this.circleRadius.toString()],\n        ['stroke-width', `${this.strokeWidth}`],\n        ['fill', this.backgroundColor],\n        ['class', 'step-foreground-fill']\n      ])\n      this.svgNode.appendChild(circleNodeFgBg)\n    })\n\n  },\n  getMedian (values) {\n    const half = Math.floor(values.length / 2);\n    if (values.length % 2)\n      return values[half]\n    else\n      return (values[half - 1] + values[half]) / 2.0\n  },\n  renderTextNodes () {\n    const diameter = this.circleRadius*2\n    const yBase = this.circleRadius + (this.strokeWidth/2) + (this.fontSize/3)  // don't want to use dominant-baseline /3 looks right\n\n    this.steps.map((d, i) => {\n      const cx = (diameter*2) * (i+0.5)\n\n      if (d) {\n        const textNode = document.createElementNS(nameSpace,'text')\n        this.setAttrs(textNode, [\n          ['x',cx],\n          ['y', yBase],\n          ['text-anchor','middle'],\n          ['class','step-text'],\n          ['fill', this.textFill],\n          ['font-size',`${this.fontSize}`]\n        ])\n\n        if (d.constructor === Array) {\n          const numberedArr = d.map((t, i) => i+1)\n          const median = this.getMedian(numberedArr)\n          d.map((t, i) => {\n            const offset = i+1 - median\n            const offsetY = yBase + (offset*this.fontSize)\n            const tspan = document.createElementNS(nameSpace, 'tspan')\n            tspan.setAttribute('x', cx.toString())\n            tspan.setAttribute('y', offsetY.toString())\n            const spanContent = document.createTextNode(t)\n            tspan.appendChild(spanContent)\n            textNode.appendChild(tspan)\n          })\n        } else {\n          const text = document.createTextNode(d)\n          textNode.appendChild(text)\n        }\n        this.svgNode.appendChild(textNode)\n      }\n    })\n  },\n  pathAnimate () {\n    const pathLines = this.target.querySelectorAll('.path-progress')\n    for (let i=0; i < pathLines.length; i++) {\n      const length = pathLines[i].getTotalLength()\n      pathLines[i].style.transition = `stroke-dasharray ${this.animationSpeed}ms ease-in-out`\n      const diameter = (this.circleRadius*2)\n      const semiCircleLength = Math.PI * this.circleRadius\n      const lineCompletedLength = (semiCircleLength * this.currentStep) + (diameter * this.currentStep) - (this.strokeWidth/2)\n      const fractionComplete = this.currentStepCompleted ? semiCircleLength * this.currentStepCompleted : 0\n      setTimeout(function () {\n        // annoying, wait till next tick or animation does not happen on load.  todo: figure out proper fix\n        pathLines[i].style.strokeDasharray = (lineCompletedLength+fractionComplete) + \", \" + length\n      }, 0)\n    }\n  },\n  animate (callback) {\n    this.pathAnimate()\n\n    const stepSpeed =  this.animationSpeed / this.steps.length\n    this.steps.map((s, i) => {\n      const completeStepNode = this.target.querySelectorAll('.step-foreground-fill')[i]\n      if (this.completeFill) {\n        completeStepNode.style.transitionDelay = `0ms`\n        if (i < this.currentStep) {\n          completeStepNode.style.transition = `fill ${stepSpeed}ms ease`\n          completeStepNode.style.transitionDelay = `${stepSpeed * (i+1)}ms`\n          completeStepNode.style.fill = this.completeFill\n        } else {\n          completeStepNode.style.fill = this.backgroundColor\n        }\n      }\n\n      const completeStepTextNode = this.target.querySelectorAll('.step-text')[i]\n      completeStepTextNode.style.fill = this.textFill\n      if (this.completeTextFill) {\n        if (i < this.currentStep) {\n          completeStepTextNode.style.transition = `fill ${stepSpeed}ms ease`\n          completeStepTextNode.style.transitionDelay = `${stepSpeed * (i+1)}ms`\n          completeStepTextNode.style.fill = this.completeTextFill\n        }\n      }\n\n      if (this.activeTextFill) {\n        if (i === this.currentStep) {\n          completeStepTextNode.style.transition = `fill ${stepSpeed}ms ease`\n          completeStepTextNode.style.transitionDelay = `${stepSpeed * (i+1)}ms`\n          completeStepTextNode.style.fill = this.activeTextFill\n        }\n      }\n    })\n\n    if (callback && callback.constructor === 'function') {\n      callback(this.target.querySelectorAll('.step-text')[this.currentStep])\n    }\n  },\n  path () {\n    const pl = document.createElementNS(nameSpace, 'path')\n    const pu = document.createElementNS(nameSpace, 'path')\n    const pbgl = document.createElementNS(nameSpace, 'path')\n    const pbgu = document.createElementNS(nameSpace, 'path')\n\n    const paths = [pbgu, pbgl, pu, pl]\n    const pathULSwitch = [1,0,1,0]\n    const diameter = this.circleRadius*2\n    const width = this.circleRadius * 2 * this.steps.length * 2\n    paths.map((p, i) => {\n      let pathMap = `M ${this.circleRadius} ${this.circleRadius + (this.strokeWidth/2)} `\n      for (let x=1; x <= this.steps.length; x++) {\n        pathMap += `a1 1 0 ${pathULSwitch[i]} ${pathULSwitch[i]} ${diameter} 0 `\n        if (x !== this.steps.length) {\n          pathMap += `h${diameter} `\n        }\n      }\n      if (i > 1) {  // foreground\n        this.setAttrs(p, [\n          ['stroke', this.colorFg],\n          ['fill', 'none'],\n          ['stroke-width', this.strokeWidth],\n          ['class', 'path-progress'],\n          ['stroke-dasharray', '0 10000'],\n          ['stroke-dashoffset', '0'],\n          ['d', pathMap]\n        ])\n      } else {  // background\n        this.setAttrs(p, [\n          ['stroke', this.colorBg],\n          ['fill', 'none'],\n          ['stroke-width', this.strokeWidth],\n          ['d', pathMap]\n        ])\n      }\n      this.svgNode.appendChild(p)\n    })\n  },\n  setNumber (val, def) {\n      return isNaN(val) ? def : val\n  },\n  setString (val, def) {\n    return val || def\n  },\n  setConfig (conf) {\n    this.target = conf.target\n    this.circleRadius = this.setNumber(conf.circleRadius, 60)\n    this.currentStep = this.setNumber(conf.currentStep, 0)\n    this.currentStepCompleted = this.setNumber(conf.currentStepCompleted, 0)\n    this.animationSpeed = this.setNumber(conf.animationSpeed, 500)\n    this.textSizeRatio = this.setNumber(conf.textSizeRatio, 1)\n    this.steps = conf.steps || []\n    this.backgroundColor = this.setString(conf.backgroundColor, '#ffffff')\n    this.colorBg = this.setString(conf.colorBg, '#cccccc')\n    this.colorFg = this.setString(conf.colorFg, 'limeGreen')\n    this.strokeWidth = this.setNumber(conf.strokeWidth, 12)\n    this.textYPosition = this.setNumber(conf.textYPosition, 50)\n    this.textXoffset = this.setNumber(conf.textXoffset, 0)\n    this.textFill = this.setString(conf.textFill, 'black')\n    this.fontSize = this.setNumber(conf.fontSize, 40)\n    this.completeFill = this.setString(conf.completeFill, '')\n    this.completeTextFill = this.setString(conf.completeTextFill, '')\n    this.activeTextFill = this.setString(conf.activeTextFill, '')\n  },\n  updateProgress (conf, fn) {\n    this.currentStep = this.setNumber(conf.currentStep, this.currentStep)\n    this.currentStepCompleted = this.setNumber(conf.currentStepCompleted, this.currentStepCompleted)\n    this.animationSpeed = this.setNumber(conf.animationSpeed, this.animationSpeed)\n    this.animate(fn)\n  },\n  updateStepsText (steps) {\n    // grab all text nodes and remove\n    if (steps.length !== this.steps.length) {\n      console.error(`${libName}: could not update steps text as unequal step length`)\n      return this\n    }\n    this.steps = steps || this.steps\n    const allTextNodes = this.svgNode.querySelectorAll('.step-text')\n    for (let i = 0; i < allTextNodes.length; i++) {\n      allTextNodes[i].remove()\n    }\n    this.renderTextNodes()\n    return this\n  },\n  init (conf) {\n    if (! conf.target) return\n    if (! conf.steps || ! conf.steps.length) return\n\n    getCircleLengthPoly()  // check if polyfill required and set if so\n    removePoly() // ie no remove on element\n\n    this.setConfig(conf)\n    this.renderSvg()\n    this.renderSvgCircles()\n    this.renderTextNodes()\n    this.path()\n    this.animate()\n  }\n}\n\nexport default conf => {\n  const progress = Object.create(stepsInit)\n  progress.init(conf)\n  return progress\n}"],"sourceRoot":""}