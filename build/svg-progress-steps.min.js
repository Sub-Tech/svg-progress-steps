(function(r){var s={};function i(t){if(s[t]){return s[t].exports}var e=s[t]={i:t,l:false,exports:{}};r[t].call(e.exports,e,e.exports,i);e.l=true;return e.exports}i.m=r;i.c=s;i.d=function(t,e,r){if(!i.o(t,e)){Object.defineProperty(t,e,{enumerable:true,get:r})}};i.r=function(t){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})};i.t=function(e,t){if(t&1)e=i(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var r=Object.create(null);i.r(r);Object.defineProperty(r,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var s in e)i.d(r,s,function(t){return e[t]}.bind(null,s));return r};i.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};i.d(t,"a",t);return t};i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};i.p="";return i(i.s=0)})([function(t,e,r){"use strict";var s=r(1);var i=n(s);function n(t){return t&&t.__esModule?t:{default:t}}window.stepsProgress=i.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});var f=function t(e){var r=e.x1.baseVal.value;var s=e.x2.baseVal.value;var i=e.y1.baseVal.value;var n=e.y2.baseVal.value;return Math.sqrt((s-=r)*s+(n-=i)*n)};var s=function t(){if(!window.SVGCircleElement||!window.SVGCircleElement.prototype.getTotalLength){window.SVGCircleElement.prototype.getTotalLength=function(){var t=this.parentNode.clientHeight;return 2*Math.PI*t}}};var c="http://www.w3.org/2000/svg";var g="svg-progress-steps";var i={target:null,steps:[],currentStep:0,svgNode:null,setAttrs:function t(e,r){for(var s=0;s<r.length;s++){e.setAttribute(r[s][0],r[s][1])}},renderSvg:function t(){this.svgNode=document.createElementNS(c,"svg");this.setAttrs(this.svgNode,[["viewBox","0 0 "+this.circleRadius*2*this.steps.length*2+" "+(this.circleRadius*2+this.strokeWidth)*this.svgHeightRatio],["version","http://www.w3.org/1999/xlink"],["xmlns:xlink","http://www.w3.org/1999/xlink"],["height",""+this.circleRadius],["width","100%"]]);this.target.appendChild(this.svgNode)},renderBar:function t(){var e=(.5/this.steps.length*100).toString()+"%";var r=((this.steps.length-1+.5)/this.steps.length*100).toString()+"%";var s=document.createElementNS(c,"line");var i=document.createElementNS(c,"line");var n=document.createElementNS(c,"line");this.setAttrs(s,[["x1",e],["x2",r],["y1","50%"],["y2","50%"],["class","line-bg"],["stroke",this.colorBg],["stroke-width",""+this.strokeWidth]]);this.setAttrs(i,[["x1",e],["x2",r],["y1","50%"],["y2","50%"],["class","line-complete"],["stroke",this.colorFg],["stroke-width",""+this.strokeWidth],["stroke-dasharray","0 10000"],["stroke-dashoffset","0"]]);this.setAttrs(n,[["x1","0%"],["x2","0%"],["y1","0%"],["y2","100%"],["class","line-test"],["stroke",this.colorFg],["stroke-width",""+this.strokeWidth],["stroke-dasharray","0 10000"],["stroke-dashoffset","0"]]);this.svgNode.appendChild(n);this.svgNode.appendChild(s);this.svgNode.appendChild(i)},renderSvgCircles:function t(){var o=this;this.steps.map(function(t,e){var r=((e+.5)/o.steps.length*100).toString()+"%";var s=document.createElementNS(c,"circle");o.setAttrs(s,[["cx",r],["cy","50%"],["r",o.circleRadius.toString()],["stroke-width",""+o.strokeWidth],["fill",o.backgroundColor],["class","step-foreground-fill"]]);o.svgNode.appendChild(s);var i=document.createElementNS(c,"circle");o.setAttrs(i,[["cx",r],["cy","50%"],["r",o.circleRadius.toString()],["stroke",o.colorBg],["stroke-width",""+o.strokeWidth],["fill","none"],["class","step-background"]]);o.svgNode.appendChild(i);var n=document.createElementNS(c,"circle");o.setAttrs(n,[["cx",r],["cy","50%"],["r",o.circleRadius.toString()],["stroke",o.colorFg],["stroke-width",""+o.strokeWidth],["fill","none"],["class","step-foreground"],["stroke-dasharray","0 10000"],["stroke-dashoffset","0"]]);o.svgNode.appendChild(n)})},renderTextNodes:function t(){var a=this;var e=this.target.querySelector(".line-test");var i=f(e);this.steps.map(function(t,e){var n=(((e+.5)/a.steps.length+a.textXoffset)*100).toString()+"%";if(t){var o=document.createElementNS(c,"text");a.setAttrs(o,[["x",n],["y",(i/2).toString()],["alignment-baseline","central"],["text-anchor","middle"],["class","step-text"],["fill",a.textFill],["font-size",""+a.fontSize]]);if(t.constructor===Array){var r=t.length*a.fontSize;var l=(i-r+a.fontSize)/2;t.map(function(t,e){var r=l+e*a.fontSize;var s=document.createElementNS(c,"tspan");s.setAttribute("x",n);s.setAttribute("alignment-baseline","central");s.setAttribute("y",r);var i=document.createTextNode(t);s.appendChild(i);o.appendChild(s)})}else{var s=document.createTextNode(t);o.appendChild(s)}a.svgNode.appendChild(o)}})},animate:function t(e){var n=this;var o=this.animationSpeed/this.steps.length;var r=this.animationSpeed-o;var s=this.target.querySelector(".line-complete");s.style.transition="stroke-dasharray "+r+"ms ease-in-out";var i=f(s);var l=i*((this.currentStep+this.currentStep/this.steps.length)/this.steps.length);s.style.strokeDasharray=l+", "+i;for(var a=this.steps.length-1;a>this.currentStep;a--){var c=this.target.querySelectorAll(".step-foreground")[a];if(!c){console.error(g+": missing step foreground");continue}c.style.transition="";c.style.strokeDasharray="0, 1000"}for(var h=0;h<=this.currentStep;h++){var u=this.target.querySelectorAll(".step-foreground")[h];if(!u){console.error(g+": missing step foreground");continue}var d=u.getTotalLength();u.style.transition="stroke-dasharray "+o+"ms ease-in-out";u.style.transitionDelay=o*h+"ms";if(h===this.currentStep){u.style.visibility="hidden";var p=d*this.currentStepCompleted;u.style.strokeDasharray=p+", "+d;u.style.visibility="visible"}else{u.style.strokeDasharray=d+", "+d}}this.steps.map(function(t,e){var r=n.target.querySelectorAll(".step-foreground-fill")[e];if(n.completeFill){r.style.transitionDelay="0ms";if(e<n.currentStep){r.style.transition="fill "+o+"ms ease";r.style.transitionDelay=o*(e+1)+"ms";r.style.fill=n.completeFill}else{r.style.fill=n.backgroundColor}}if(n.completeTextFill){var s=n.target.querySelectorAll(".step-text")[e];if(e<n.currentStep){s.style.transition="fill "+o+"ms ease";s.style.transitionDelay=o*(e+1)+"ms";s.style.fill=n.completeTextFill}else{s.style.fill=n.textFill}}if(n.activeTextFill){var i=n.target.querySelectorAll(".step-text")[e];if(e===n.currentStep){i.style.transition="fill "+o+"ms ease";i.style.transitionDelay=o*(e+1)+"ms";i.style.fill=n.activeTextFill}else{i.style.fill=n.textFill}}});if(e&&e.constructor==="function"){e(this.target.querySelectorAll(".step-text")[this.currentStep])}},setNumber:function t(e,r){return isNaN(e)?r:e},setString:function t(e,r){return e||r},setConfig:function t(e){this.target=e.target;this.circleRadius=this.setNumber(e.circleRadius,60);this.currentStep=this.setNumber(e.currentStep,0);this.currentStepCompleted=this.setNumber(e.currentStepCompleted,0);this.animationSpeed=this.setNumber(e.animationSpeed,500);this.textSizeRatio=this.setNumber(e.textSizeRatio,1);this.steps=e.steps||[];this.backgroundColor=this.setString(e.backgroundColor,"#ffffff");this.colorBg=this.setString(e.colorBg,"#cccccc");this.colorFg=this.setString(e.colorFg,"limeGreen");this.strokeWidth=this.setNumber(e.strokeWidth,12);this.textYPosition=this.setNumber(e.textYPosition,50);this.textXoffset=this.setNumber(e.textXoffset,0);this.svgHeightRatio=this.setNumber(e.svgHeightRatio,1);this.textFill=this.setString(e.textFill,"black");this.fontSize=this.setNumber(e.fontSize,40);this.completeFill=this.setString(e.completeFill,"");this.completeTextFill=this.setString(e.completeTextFill,"");this.activeTextFill=this.setString(e.activeTextFill,"")},updateProgress:function t(e,r){this.currentStep=this.setNumber(e.currentStep,this.currentStep);this.currentStepCompleted=this.setNumber(e.currentStepCompleted,this.currentStepCompleted);this.animationSpeed=this.setNumber(e.animationSpeed,this.animationSpeed);this.animate(r)},updateStepsText:function t(e){if(e.length!==this.steps.length){console.error(g+": could not update steps text as unequal step length");return this}this.steps=e||this.steps;var r=this.svgNode.querySelectorAll(".step-text");for(var s=0;s<r.length;s++){r[s].remove()}this.renderTextNodes();return this},init:function t(e){if(!e.target)return;if(!e.steps||!e.steps.length)return;s();this.setConfig(e);this.renderSvg();this.renderBar();this.renderSvgCircles();this.renderTextNodes();this.animate()}};e.default=function(t){var e=Object.create(i);e.init(t);return e}}]);
//# sourceMappingURL=svg-progress-steps.min.js.map