(function(r){var i={};function s(t){if(i[t]){return i[t].exports}var e=i[t]={i:t,l:false,exports:{}};r[t].call(e.exports,e,e.exports,s);e.l=true;return e.exports}s.m=r;s.c=i;s.d=function(t,e,r){if(!s.o(t,e)){Object.defineProperty(t,e,{enumerable:true,get:r})}};s.r=function(t){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})};s.t=function(e,t){if(t&1)e=s(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var r=Object.create(null);s.r(r);Object.defineProperty(r,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var i in e)s.d(r,i,function(t){return e[t]}.bind(null,i));return r};s.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};s.d(t,"a",t);return t};s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};s.p="";return s(s.s=0)})([function(t,e,r){"use strict";var i=r(1);var s=n(i);function n(t){return t&&t.__esModule?t:{default:t}}window.stepsProgress=s.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});var i=function t(){if(!("remove"in Element.prototype)){Element.prototype.remove=function(){if(this.parentNode){this.parentNode.removeChild(this)}}}};var h="http://www.w3.org/2000/svg";var s="svg-progress-steps";var n={target:null,steps:[],currentStep:0,svgNode:null,setAttrs:function t(e,r){for(var i=0;i<r.length;i++){e.setAttribute(r[i][0],r[i][1])}},renderSvg:function t(){this.svgNode=document.createElementNS(h,"svg");this.setAttrs(this.svgNode,[["viewBox","0 0 "+this.circleRadius*2*this.steps.length*2+" "+(this.circleRadius*2+this.strokeWidth)],["version","http://www.w3.org/1999/xlink"],["xmlns:xlink","http://www.w3.org/1999/xlink"],["height",""+this.circleRadius],["width","100%"]]);this.target.appendChild(this.svgNode)},renderSvgCircles:function t(){var n=this;this.steps.map(function(t,e){var r=n.circleRadius*2;var i=r*2*(e+.5);var s=document.createElementNS(h,"circle");n.setAttrs(s,[["cx",i],["cy","50%"],["r",n.circleRadius.toString()],["stroke-width",""+n.strokeWidth],["fill",n.backgroundColor],["class","step-foreground-fill"]]);n.svgNode.appendChild(s)})},getMedian:function t(e){var r=Math.floor(e.length/2);if(e.length%2)return e[r];else return(e[r-1]+e[r])/2},renderTextNodes:function t(){var c=this;var s=this.circleRadius*2;var u=this.circleRadius+this.strokeWidth/2+this.fontSize/3;this.steps.map(function(t,e){var o=s*2*(e+.5);if(t){var l=document.createElementNS(h,"text");c.setAttrs(l,[["x",o],["y",u],["text-anchor","middle"],["class","step-text"],["fill",c.textFill],["font-size",""+c.fontSize]]);if(t.constructor===Array){var r=t.map(function(t,e){return e+1});var a=c.getMedian(r);t.map(function(t,e){var r=e+1-a;var i=u+r*c.fontSize;var s=document.createElementNS(h,"tspan");s.setAttribute("x",o.toString());s.setAttribute("y",i.toString());var n=document.createTextNode(t);s.appendChild(n);l.appendChild(s)})}else{var i=document.createTextNode(t);l.appendChild(i)}c.svgNode.appendChild(l)}})},pathAnimate:function t(){var l=this;var a=this.target.querySelectorAll(".path-progress");var e=function t(e){var r=a[e].getTotalLength();a[e].style.transition="stroke-dasharray "+l.animationSpeed+"ms ease-in-out";var i=l.circleRadius*2;var s=Math.PI*l.circleRadius;var n=s*l.currentStep+i*l.currentStep-l.strokeWidth/2;var o=l.currentStepCompleted?s*l.currentStepCompleted:0;setTimeout(function(){a[e].style.strokeDasharray=n+o+", "+r},0)};for(var r=0;r<a.length;r++){e(r)}},animate:function t(e){var s=this;this.pathAnimate();var n=this.animationSpeed/(this.currentStep+1);this.steps.map(function(t,e){var r=s.target.querySelectorAll(".step-foreground-fill")[e];if(s.completeFill){r.style.transitionDelay="0ms";if(e<s.currentStep){r.style.transition="fill "+n+"ms ease";r.style.transitionDelay=n*e+"ms";r.style.fill=s.completeFill}else{r.style.fill=s.backgroundColor}}var i=s.target.querySelectorAll(".step-text")[e];i.style.fill=s.textFill;if(s.completeTextFill){if(e<s.currentStep){i.style.transition="fill "+n+"ms ease";i.style.transitionDelay=n*e+"ms";i.style.fill=s.completeTextFill}}if(s.activeTextFill){if(e===s.currentStep){i.style.transition="fill "+n+"ms ease";i.style.transitionDelay=n*e+"ms";i.style.fill=s.activeTextFill}}});if(e&&e.constructor==="function"){e(this.target.querySelectorAll(".step-text")[this.currentStep])}},path:function t(){var s=this;var e=document.createElementNS(h,"path");var r=document.createElementNS(h,"path");var i=document.createElementNS(h,"path");var n=document.createElementNS(h,"path");var o=[n,i,r,e];var l=[1,0,1,0];var a=this.circleRadius*2;var c=this.circleRadius*2*this.steps.length*2;o.map(function(t,e){var r="M "+s.circleRadius+" "+(s.circleRadius+s.strokeWidth/2)+" ";for(var i=1;i<=s.steps.length;i++){r+="a1 1 0 "+l[e]+" "+l[e]+" "+a+" 0 ";if(i!==s.steps.length){r+="h"+a+" "}}if(e>1){s.setAttrs(t,[["stroke",s.colorFg],["fill","none"],["stroke-width",s.strokeWidth],["class","path-progress"],["stroke-dasharray","0 10000"],["stroke-dashoffset","0"],["d",r]])}else{s.setAttrs(t,[["stroke",s.colorBg],["fill","none"],["stroke-width",s.strokeWidth],["d",r]])}s.svgNode.appendChild(t)})},setNumber:function t(e,r){return isNaN(e)?r:e},setString:function t(e,r){return e||r},setConfig:function t(e){this.target=e.target;this.circleRadius=this.setNumber(e.circleRadius,60);this.currentStep=this.setNumber(e.currentStep,0);this.currentStepCompleted=this.setNumber(e.currentStepCompleted,0);this.animationSpeed=this.setNumber(e.animationSpeed,500);this.textSizeRatio=this.setNumber(e.textSizeRatio,1);this.steps=e.steps||[];this.backgroundColor=this.setString(e.backgroundColor,"#ffffff");this.colorBg=this.setString(e.colorBg,"#cccccc");this.colorFg=this.setString(e.colorFg,"limeGreen");this.strokeWidth=this.setNumber(e.strokeWidth,12);this.textYPosition=this.setNumber(e.textYPosition,50);this.textXoffset=this.setNumber(e.textXoffset,0);this.textFill=this.setString(e.textFill,"black");this.fontSize=this.setNumber(e.fontSize,40);this.completeFill=this.setString(e.completeFill,"");this.completeTextFill=this.setString(e.completeTextFill,"");this.activeTextFill=this.setString(e.activeTextFill,"")},updateProgress:function t(e,r){this.currentStep=this.setNumber(e.currentStep,this.currentStep);this.currentStepCompleted=this.setNumber(e.currentStepCompleted,this.currentStepCompleted);this.animationSpeed=this.setNumber(e.animationSpeed,this.animationSpeed);this.animate(r)},updateStepsText:function t(e){if(e.length!==this.steps.length){console.error(s+": could not update steps text as unequal step length");return this}this.steps=e||this.steps;var r=this.svgNode.querySelectorAll(".step-text");for(var i=0;i<r.length;i++){r[i].remove()}this.renderTextNodes();return this},init:function t(e){if(!e.target)return;if(!e.steps||!e.steps.length)return;i();this.setConfig(e);this.renderSvg();this.renderSvgCircles();this.renderTextNodes();this.path();this.animate()}};e.default=function(t){var e=Object.create(n);e.init(t);return e}}]);
//# sourceMappingURL=svg-progress-steps.min.js.map