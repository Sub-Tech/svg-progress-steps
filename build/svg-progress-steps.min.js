(function(s){var r={};function i(t){if(r[t]){return r[t].exports}var e=r[t]={i:t,l:false,exports:{}};s[t].call(e.exports,e,e.exports,i);e.l=true;return e.exports}i.m=s;i.c=r;i.d=function(t,e,s){if(!i.o(t,e)){Object.defineProperty(t,e,{enumerable:true,get:s})}};i.r=function(t){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})};i.t=function(e,t){if(t&1)e=i(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var s=Object.create(null);i.r(s);Object.defineProperty(s,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var r in e)i.d(s,r,function(t){return e[t]}.bind(null,r));return s};i.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};i.d(t,"a",t);return t};i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};i.p="";return i(i.s=0)})([function(t,e,s){"use strict";var r=s(1);var i=n(r);function n(t){return t&&t.__esModule?t:{default:t}}window.stepsProgress=i.default},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:true});var r={target:null,steps:[],currentStep:0,svgNode:null,renderSvg:function t(){this.svgNode=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svgNode.setAttribute("viewBox","0 0 "+this.circleRadius*2*this.steps.length*2+" "+(this.circleRadius*2+this.strokeWidth)*this.svgHeightRatio);this.svgNode.setAttribute("version","1.1");this.svgNode.setAttribute("height",""+this.circleRadius);this.svgNode.setAttribute("width","100%");this.target.appendChild(this.svgNode)},renderBar:function t(){var e=(.5/this.steps.length*100).toString()+"%";var s=((this.steps.length-1+.5)/this.steps.length*100).toString()+"%";var r=document.createElementNS("http://www.w3.org/2000/svg","line");var i=document.createElementNS("http://www.w3.org/2000/svg","line");r.setAttribute("x1",e);r.setAttribute("x2",s);r.setAttribute("y1","50%");r.setAttribute("y2","50%");r.setAttribute("class","line-bg");r.setAttribute("stroke",this.colorBg);r.setAttribute("stroke-width",this.strokeWidth+"px");i.setAttribute("x1",e);i.setAttribute("x2",s);i.setAttribute("y1","50%");i.setAttribute("y2","50%");i.setAttribute("class","line-complete");i.setAttribute("stroke",this.colorFg);i.setAttribute("stroke-width",this.strokeWidth+"px");i.setAttribute("stroke-dasharray","0 10000");i.setAttribute("stroke-dashoffset","0");var n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("x1","0%");n.setAttribute("x2","0%");n.setAttribute("y1","0%");n.setAttribute("y2","100%");n.setAttribute("class","line-test");n.setAttribute("stroke",this.colorFg);n.setAttribute("stroke-width",this.strokeWidth+"px");n.setAttribute("stroke-dasharray","0 10000");n.setAttribute("stroke-dashoffset","0");this.svgNode.appendChild(n);this.svgNode.appendChild(r);this.svgNode.appendChild(i)},renderSvgCircles:function t(){var o=this;this.steps.map(function(t,e){var s=((e+.5)/o.steps.length*100).toString()+"%";var r=document.createElementNS("http://www.w3.org/2000/svg","circle");r.setAttribute("cx",s);r.setAttribute("cy","50%");r.setAttribute("r",o.circleRadius.toString());r.setAttribute("stroke-width",""+o.strokeWidth);r.setAttribute("fill",o.backgroundColor);r.setAttribute("class","step-foreground-fill");o.svgNode.appendChild(r);var i=document.createElementNS("http://www.w3.org/2000/svg","circle");i.setAttribute("cx",s);i.setAttribute("cy","50%");i.setAttribute("r",o.circleRadius.toString());i.setAttribute("stroke",o.colorBg);i.setAttribute("stroke-width",""+o.strokeWidth);i.setAttribute("fill","none");i.setAttribute("class","step-background");o.svgNode.appendChild(i);var n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("cx",s);n.setAttribute("cy","50%");n.setAttribute("r",o.circleRadius.toString());n.setAttribute("stroke",o.colorFg);n.setAttribute("stroke-width",""+o.strokeWidth);n.setAttribute("fill","none");n.setAttribute("class","step-foreground");n.setAttribute("stroke-dasharray","0 10000");n.setAttribute("stroke-dashoffset","0");o.svgNode.appendChild(n)})},renderTextNodes:function t(){var a=this;var e=this.target.querySelector(".line-test");var i=e.getTotalLength();this.steps.map(function(t,e){var n=(((e+.5)/a.steps.length+a.textXoffset)*100).toString()+"%";if(t){var o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("x",n);o.setAttribute("y",(i/2).toString());o.setAttribute("alignment-baseline","central");o.setAttribute("text-anchor","middle");o.setAttribute("class","step-text");o.setAttribute("fill",a.textFill);o.setAttribute("font-size",""+a.fontSize);if(t.constructor===Array){var s=t.length*a.fontSize;var l=(i-s+a.fontSize)/2;t.map(function(t,e){var s=l+e*a.fontSize;var r=document.createElementNS("http://www.w3.org/2000/svg","tspan");r.setAttribute("x",n);r.setAttribute("alignment-baseline","central");r.setAttribute("y",s);var i=document.createTextNode(t);r.appendChild(i);o.appendChild(r)})}else{var r=document.createTextNode(t);o.appendChild(r)}a.svgNode.appendChild(o)}})},animate:function t(e){var n=this;var o=this.animationSpeed/this.steps.length;var s=this.animationSpeed-o;var r=this.target.querySelector(".line-complete");r.style.transition="stroke-dasharray "+s+"ms ease-in-out";var i=r.getTotalLength();var l=i*((this.currentStep+this.currentStep/this.steps.length)/this.steps.length);r.style.strokeDasharray=l+", "+i;for(var a=this.steps.length-1;a>this.currentStep;a--){var u=this.target.querySelectorAll(".step-foreground")[a];if(!u){console.error("svg-progress-steps: missing step foreground");continue}u.style.transition="";u.style.strokeDasharray="0, 1000"}for(var h=0;h<=this.currentStep;h++){var c=this.target.querySelectorAll(".step-foreground")[h];if(!c){console.error("svg-progress-steps: missing step foreground");continue}var d=c.getTotalLength();if(h===this.currentStep){c.style.transition="stroke-dasharray "+o+"ms ease-in-out";c.style.visibility="hidden";var p=d*this.currentStepCompleted;c.style.strokeDasharray=p+", "+d;c.style.transitionDelay=s+"ms";c.style.visibility="visible"}else{c.style.transition="stroke-dasharray "+o*(h+1)+"ms ease-in-out";c.style.transitionDelay=o*h*.5+"ms";c.style.strokeDasharray=d+", "+d}}this.steps.map(function(t,e){var s=n.target.querySelectorAll(".step-foreground-fill")[e];if(n.completeFill){if(e<n.currentStep){s.style.transition="fill "+o*(e+1)+"ms ease";s.style.transitionDelay=o*e+o+"ms";s.style.fill=n.completeFill}else{s.style.fill=n.backgroundColor}}if(n.completeTextFill){var r=n.target.querySelectorAll(".step-text")[e];if(e<n.currentStep){r.style.transition="fill "+(o*(e+1)+50)+"ms ease";r.style.transitionDelay=o*e*.5+"ms";r.style.fill=n.completeTextFill}else{r.style.fill=n.textFill}}if(n.activeTextFill){var i=n.target.querySelectorAll(".step-text")[e];if(e===n.currentStep){i.style.transition="fill "+(o*(e+1)+50)+"ms ease";i.style.transitionDelay=o*e*.5+"ms";i.style.fill=n.activeTextFill}}});if(e&&e.constructor==="function"){e(this.target.querySelectorAll(".step-text")[this.currentStep])}},setNumber:function t(e,s){return isNaN(e)?s:e},setString:function t(e,s){return e||s},setConfig:function t(e){this.target=e.target;this.circleRadius=this.setNumber(e.circleRadius,60);this.currentStep=this.setNumber(e.currentStep,0);this.currentStepCompleted=this.setNumber(e.currentStepCompleted,0);this.animationSpeed=this.setNumber(e.animationSpeed,500);this.textSizeRatio=this.setNumber(e.textSizeRatio,1);this.steps=e.steps||[];this.backgroundColor=this.setString(e.backgroundColor,"#ffffff");this.colorBg=this.setString(e.colorBg,"#cccccc");this.colorFg=this.setString(e.colorFg,"limeGreen");this.strokeWidth=this.setNumber(e.strokeWidth,12);this.textYPosition=this.setNumber(e.textYPosition,50);this.textXoffset=this.setNumber(e.textXoffset,0);this.svgHeightRatio=this.setNumber(e.svgHeightRatio,1);this.textFill=this.setString(e.textFill,"black");this.fontSize=this.setNumber(e.fontSize,40);this.completeFill=this.setString(e.completeFill,"");this.completeTextFill=this.setString(e.completeTextFill,"");this.activeTextFill=this.setString(e.activeTextFill,"")},updateProgress:function t(e,s){this.currentStep=this.setNumber(e.currentStep,this.currentStep);this.currentStepCompleted=this.setNumber(e.currentStepCompleted,this.currentStepCompleted);this.animationSpeed=this.setNumber(e.animationSpeed,this.animationSpeed);this.animate(s)},updateStepsText:function t(e){if(e.length!==this.steps.length){console.error("svg-progress-steps: could not update steps text as unequal step length");return this}this.steps=e||this.steps;var s=this.svgNode.querySelectorAll(".step-text");for(var r=0;r<s.length;r++){s[r].remove()}this.renderTextNodes();return this},init:function t(e){if(!e.target)return;if(!e.steps||!e.steps.length)return;this.setConfig(e);this.renderSvg();this.renderBar();this.renderSvgCircles();this.renderTextNodes();this.animate()}};e.default=function(t){var e=Object.create(r);e.init(t);return e}}]);
//# sourceMappingURL=svg-progress-steps.min.js.map