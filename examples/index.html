<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
  <meta charset="utf-8">
  <title>Example</title>
  <link rel="canonical" href="http://example.com/">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap-grid.min.css" rel="stylesheet" type="text/css" />
  <style>
    .step-active {
      /*
      transition: stroke-dasharray 850ms ease-in-out;
      stroke-dasharray: 0 1000;
      stroke-dashoffset: 0;
      visibility: hidden;
      */
    }
  </style>
</head>
<body>
<div class="container">
  <div id="target"></div>
</div>

<div id="target2"></div>


<hr>
<div style="text-align: center;">
  <div id="sliderValue">0</div>
  <label for="changeSteps">Progress slider group</label>
  <input type="range" style="width: 100%;" step="0.1" value="0" max="8" min="0" id="changeSteps">
</div>

<div id="target3"></div>

<div id="target4"></div>

<div id="target5"></div>

<div style="background: #f5dcee;">
  <div id="target6"></div>
</div>


<script src="../build/svg-progress-steps.min.js"></script>

<script>
  var foo = stepsProgress({
    target: document.getElementById('target'),
    currentStep: 3,
    animationSpeed: 2000,
    steps: [ 'foo', 'bar', 'baz', ['boo', 'arse']]
  })

  var bar = stepsProgress({
    target: document.getElementById('target2'),
    circleRadius: 120,
    strokeWidth: 20,
    currentStep: 0,
    currentStepCompleted: 0.2,
    fontSize: 40,
    steps: [
      ['signup', 'progress', 'complete']
    ]
  })

  var steps = ['ãƒ…', '2', '3', '5', '6', '7', '8']

  var baz = stepsProgress({
    target: document.getElementById('target3'),
    circleRadius: 30,
    strokeWidth: 2,
    backgroundColor: '#f5ac97',
    completeFill: '#f55c85',
    animationSpeed: 1000,
    fontSize: 40,
    textFill: 'white',
    colorFg: '#f55c85',
    colorBg: '#f5ac97',
    currentStep: 0,
    steps: steps
  })

  var bazzzz = stepsProgress({
    target: document.getElementById('target4'),
    circleRadius: 60,
    textSizeRatio: 1.3,
    textYPosition: 65,
    animationSpeed: 750,
    colorFg: '#f5f36b',
    colorBg: '#6ec7f5',
    currentStep: 0,
    steps: steps
  })

  var bazzzzing = stepsProgress({
    target: document.getElementById('target5'),
    circleRadius: 50,
    completeFill: '#dcffe2',
    textFill: '#f5c4ee',
    completeTextFill: '#22c99d',
    activeTextFill: '#22c99d',
    // svgHeightRatio: 6,
    // textYPosition: 90,
    animationSpeed: 1000,
    strokeWidth: 5,
    colorFg: '#22f5c9',
    colorBg: '#f5c4ee',
    currentStep: 0,
    steps: steps
  })

  var bazzzzingTon = stepsProgress({
    target: document.getElementById('target6'),
    circleRadius: 100,
    svgHeightRatio: 0.3,
    animationSpeed: 1000,
    fontSize: 120,
    strokeWidth: 30,
    colorFg: '#f55a6d',
    colorBg: '#dbc2d4',
    backgroundColor: '#f5dcee',
    textFill: '#a993a2',
    activeTextFill: '#7d28f5',
    currentStep: 0,
    steps: steps.concat(steps)
  })


  var updater = document.getElementById('changeSteps')
  var updaterValue = document.getElementById('sliderValue')
  function doUpdate(step, fraction) {
    bazzzz.updateProgress({
      currentStep: +step,
      currentStepCompleted: +fraction
    })
    bazzzzing.updateProgress({
      currentStep: +step,
      currentStepCompleted: +fraction
    })
    baz.updateProgress({
      currentStep: +step,
      currentStepCompleted: +fraction
    })
    bazzzz.updateProgress({
      currentStep: +step,
      currentStepCompleted: +fraction
    })
    var newSteps = steps.concat()
    newSteps[+step] = (Math.round(+fraction * 100)) + '%'
    bazzzz.updateStepsText(newSteps).updateProgress({
      currentStep: +step,
      currentStepCompleted: +fraction
    })
    bazzzzingTon.updateProgress({
      currentStep: +step,
      currentStepCompleted: +fraction
    })
  }
  updater.addEventListener('change' , function (e) {
    var n = e.target.value.toString().split('.')
    var fraction = n[1] ? n[1] / 10 : 0
    updaterValue.innerHTML = 'step ' + n[0] + ' upto ' + fraction
    doUpdate(n[0], fraction)
  })

  /*
  var i = 0
  setInterval(function () {
    i++
    if (i > 6) return
    var x = i - 1
    var f = x ? x / 10 : 0
    f = i === 3 ? 0 : f
    doUpdate(i, f)
  }, 3000)
  */

  console.log(foo)

</script>


</body>
</html>